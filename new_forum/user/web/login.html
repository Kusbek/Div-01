<!doctype html>
<html>

<head>
    <!-- <link href="../../static/login.css" rel="stylesheet"> -->
    <script src="../../static/jquery.min.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script> -->
</head>

<body>
    <div class="login-page">
        <div class="form">
            <form class="register-form">
                <input type="text" id="signup_username" placeholder="username" />
                <input type="password" id="signup_password" placeholder="password" />
                <input type="text" id="signup_email" placeholder="email address" />
                <button onclick="signup()">create</button>
                <p class="message">Already registered? <a href="#">Sign In</a></p>
            </form>
            <form class="login-form">
                <input type="text" id="signin_credentials" placeholder="username" />
                <input type="password" id="signin_password" placeholder="password" />
                <button onclick="signin()">login</button>
                <p class="message">Not registered? <a href="#">Create an account</a></p>
            </form>
        </div>
    </div>
    <script>


        function signup() {

        }

        function signin() {
            let creds = {
                credentials: $("#signin_credentials").val(),
                password: $("#signin_password").val()
            }

            $.ajax(
                {
                    url: "./signin",
                    type: "POST",
                    data: JSON.stringify(creds),
                    success: function (result) {
                        console.log("success")
                        $("html").html(result);
                    },
                    error: function (e) {
                        console.log("fail")
                        console.log(e.responseText)
                    },
                }
            )
            return false
        }

        $('.message a').click(function () {
            $('form').animate({ height: "toggle", opacity: "toggle" }, "slow");
        });
    </script>
</body>

</html>