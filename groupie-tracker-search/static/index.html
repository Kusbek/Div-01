<!doctype html>
<html>

<head>
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script> -->
    <script src="jquery.min.js"></script>
    <meta charset="utf-8">
    <title>Groupie Tracker</title>
</head>
<style>
    #search-box {
        padding: 10px;
        border: #a8d4b1 1px solid;
        border-radius: 4px;
    }

    .card {
        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
        transition: 0.3s;
        width: 40%;
    }

    .card:hover {
        box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2);
    }

    .container {
        padding: 2px 16px;
    }
</style>

<body>
    <!-- <button class = "groupie_tracker" id="artists">Artists</button> -->
    <div class="frmSearch">
        <input type="text" id="search-box" placeholder="Type Keyword" />
        <div id="suggesstion-box"></div>
    </div>
    <div>
        <pre id="error">

        </pre>
    </div>
    <div id="artists_wrapper">

    </div>


    <script type="text/javascript">


        function sendRequest() {
            console.log("changed")
        }

        $(document).ready(function () {
            $("#search-box").keyup(function () {
                console.log($(this).val())
                $.ajax({
                    type: "GET",
                    url: "./artists",
                    data: 'keyword=' + $(this).val(),
                    beforeSend: function () {
                        $("#search-box").css("background", "#FFF url(LoaderIcon.gif) no-repeat 165px");
                    },
                    success: function (data) {
                        $("#suggesstion-box").show();
                        $("#suggesstion-box").html(data);
                        $("#search-box").css("background", "#FFF");
                    }
                });
            });
        });







        // function handle_artists(artists) {
        //     console.log("appending")
        //     $('#artists_wrapper').html(artists)
        // }

        // id = this.id
        // if (id == "artists") {

        //     $.ajax(
        //         {
        //             url: `./${id}`,
        //             success: function (artists) {
        //                 handle_artists(artists)
        //             },
        //             error: function(e) {
        //                 $("#error").html(e.responseText)
        //             },
        //         }
        //     )
        // } else {
        // }
    </script>
</body>

</html>